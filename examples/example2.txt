@entity In_clause: clause: int, literal: int;
@entity Clause: id: int;
@entity Assignment: variable: Vars;
@entity WeightedClause: clause: int, literal: int;


guess from Vars as v
	Assignment
		where Assignment.variable=v;

guess from Vars as v
	at_least 1 and at_most 2
		Assignment 
			where Assignment.variable=v;

define Vars as v
	from Clause, Vars as v2
		where v.id=Clause.id and Clause.id=1;

@entity Vars: id: int;

deny from Clause as c
	where c.id=1;

deny unless Clause 
	from WeightedClause as w
		where w.clause=Clause.id;

define WeightedClause as w
	from Clause as c, In_clause as i
		where w.literal==i.literal and w.clause=c.id;

define Assignment
	from Vars as v
		where v.id==3 and Assignment.variable=v;

deny from Vars as v, Assignment as a
	where a.variable=v and v.id<2
		or pay v.id at 4;



deny unless Clause or Assignment as a
	from In_clause as i, WeightedClause as w
		where i.clause=Clause.id and w.clause=a.variable.id
			or pay Clause.id at 1;

